---
 - name: work with remote server
   hosts: production-server
   become: true
   tasks:
    - name: installing python pip
      apt:
       name: python-pip
       state: present

    - name: installing docker-py python modules
      pip:
        name: docker-py
        state: present   

    - name: start the container
      docker_container:
       name: pro_java_container
       image: "shivapoudyal/jenkins-ansbile-java-project:{{git_tag}}"
       state: started
       published_ports:
        - 0.0.0.0:8080:8080  

